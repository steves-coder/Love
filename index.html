<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Maalakha</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <audio id="background-music" autoplay loop>
        <source src="song.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>

    <div class="animated-background">
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
        <div class="heart"></div>
    </div>

    <div id="starry-night"></div>

    <div class="flowers">
        <div class="flower" style="background-image: url('Pic1.jpg');" onclick="alert('I know things which are gonna happen now might be crazy for you, yet this moment feels too precious to let slip by. Though distance keeps us apart, On this Valentine‚Äôs Week, I long to express my love to you, even if my words must travel through the air, carried by the hope that you can feel the depth of my feelings.')"></div>
        <div class="flower" style="background-image: url('Pic2.jpg');" onclick="alert('The childhood and the hometown were the best chapters of my life. 16 years in Punalur, intertwined with the memories of Toc-H, were filled with joy and experiences that will forever stay with me.')"></div>
        <div class="flower" style="background-image: url('Pic11.jpg');" onclick="alert('Though I have countless memories from Toc-H, I am deeply thankful to the school for gifting me something truly precious in my life. If it weren‚Äôt for my time there, I would have missed out on such a priceless gem like you.')"></div>
        <div class="flower" style="background-image: url('Pic4.jpg');" onclick="alert('‡§ú‡§ø‡§∏‡§ï‡§æ ‡§á‡§Ç‡§§‡§ú‡§º‡§æ‡§∞ ‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è, ‡§â‡§∏‡§ï‡§æ ‡§´‡§≤ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§Æ‡•Ä‡§†‡§æ ‡§î‡§∞ ‡§ñ‡§æ‡§∏ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§∏‡§¨‡•ç‡§∞ ‡§ï‡§æ ‡§á‡§®‡§æ‡§Æ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§∂‡§æ‡§®‡§¶‡§æ‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ The wait was truly precious‚Äîmore than a decade of longing, hoping, and dreaming, until destiny finally brought you into my life, making every moment of patience worthwhile.')"></div>
        <div class="flower" style="background-image: url('Pic\ 10.jpg');" onclick="alert('You are my Angel, a divine gift from God above,Blessing my life with boundless love.')"></div>
        <div class="flower" style="background-image: url('Pic5.jpg');" onclick="alert('Exodus 23:20 - See, I am sending an angel ahead of you to guard you along the way and to bring you to the place I have prepared.......In the journey of my life, God graced me with an Angel ‚Äî One who brings joy to my heart, cherishes my emotions, and paints my memories with beauty beyond compare. ')"></div>
        <div class="flower" style="background-image: url('Pic6.jpg');" onclick="alert('From the first hello to our endless chats, You were my friend, the one who had my back. ü§ç I know, I was not there to stand by you in your darkest hour, But somewhere along the way, something changed in me, A love bloomed quietly, as pure as it could be. üå∏')"></div>
        <div class="flower" style="background-image: url('Pic9.jpg');" onclick="alert('We may have faced countless fights and quarrels along the way,But within our journey, far more were the moments of joy that stayed. ‡¥™‡¥ø‡¥£‡¥ï‡µç‡¥ï‡¥§‡µç‡¥§‡¥ø‡¥®‡µç ‡¥∂‡µá‡¥∑‡¥Æ‡µÅ‡¥≥‡µç‡¥≥ ‡¥á‡¥£‡¥ï‡µç‡¥ï‡¥§‡µç‡¥§‡¥ø‡¥®‡µç ‡¥Æ‡¥ß‡µÅ‡¥∞‡¥Ç ‡¥ï‡µÇ‡¥ü‡µÅ‡¥Ç‚Ä¶! ‡¥™‡¥ø‡¥£‡¥ï‡µç‡¥ï‡¥Æ‡¥ø‡¥≤‡µç‡¥≤‡¥æ‡¥§‡µÜ ‡¥é‡¥®‡µç‡¥§‡µç¬†‡¥∏‡µç‡¥®‡µá‡¥π‡¥Ç‚Ä¶!!')"></div>
        <div class="flower" style="background-image: url('Pic8.jpg');" onclick="alert('Though miles stretch between us, my heart feels no distance. Your laughter echoes in my mind, a melody I cherish. üé∂ If stars can shine from galaxies apart ‚ú®,So here is my heart, across the time and space, Asking if you would like to journey through life with me, hand in hand, no matter the place. ‚ù§Ô∏è')"></div>
    </div>

    <div class="message">
        <img src="puppy1.png" alt="Heart" class="heart-image" id="heart-image">
        <h2>Will You Be Mine Forever? üíç</h2>
        <p>Even with the distance, you light up my world like no one else. </p>
        <input type="text" id="username" placeholder="Enter your name">
        <button id="yes-button" onclick="sendChoice('yes')">Absolutely, Forever! üåπ</button>
        <button id="no-button" class="no-button" onclick="sendChoice('later')">I Need More Time... üï∞Ô∏è</button>
        <button id="y-button" class="y-button" onclick="sendChoice('no')">That's not gonna happen</button>

    </div>

    <div id="congrats-container"></div>

    <div id="congrats-message">
        <h2>You've made me the happiest person alive! üéâü•∞</h2>
    </div>

    <script>
        window.addEventListener('load', () => {
    const backgroundMusic = document.getElementById('background-music');
    backgroundMusic.volume = 0.40;

    // Attempt to play the audio after a user gesture (for stricter browsers)
    backgroundMusic.play().catch(() => {
        console.log("Audio playback blocked until user interaction.");
        document.body.addEventListener('click', () => {
            backgroundMusic.play();
        }, { once: true });
    });
});

        const starryNight = document.getElementById('starry-night');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 2 + 's';
            starryNight.appendChild(star);
        }

        const heartImage = document.getElementById('heart-image');
        const yesButton = document.getElementById('yes-button');
        const noButtonElement = document.getElementById('no-button');
        const yButtonElement = document.getElementById('y-button');

        yesButton.addEventListener('mouseover', () => {
            heartImage.src = 'puppy.png';
        });

        yesButton.addEventListener('mouseout', () => {
            heartImage.src = 'puppy1.png';
        });

        noButtonElement.addEventListener('mouseover', () => {
            heartImage.src = 'saddog.png';
            
        });

        noButtonElement.addEventListener('mouseout', () => {
            heartImage.src = 'puppy1.png';
        });

        yButtonElement.addEventListener('mouseover', () => {
            heartImage.src = 'sadpuppy.png';
            
        });

        yButtonElement.addEventListener('mouseout', () => {
            heartImage.src = 'puppy1.png';
        });

        function triggerCongratulations() {
            const container = document.getElementById('congrats-container');
            container.style.display = 'block';
            
            for (let i = 0; i < 30; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = Math.random() * 100 + '%';
                firework.style.top = Math.random() * 100 + '%';
                container.appendChild(firework);

                setTimeout(() => {
                    firework.remove();
                }, 1500);
            }

            const message = document.getElementById('congrats-message');
            message.style.display = 'block';
        }
    </script>
    <script type="module">
  // ‚úÖ Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

  // ‚úÖ Firebase config (yours is correct)
  const firebaseConfig = {
    apiKey: "AIzaSyAR39x_aIoMfJSyZ6J3CFz4pqZxACbYskE",
    authDomain: "sneham-801a2.firebaseapp.com",
    projectId: "sneham-801a2",
    storageBucket: "sneham-801a2.firebasestorage.app",
    messagingSenderId: "993220038278",
    appId: "1:993220038278:web:716cba6b8c0cd818034b07",
    measurementId: "G-ZEFHJ2RNJQ"
  };

  // ‚úÖ Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ‚úÖ Function to save choice
  async function sendChoice(choice) {
    try {
        const name = document.getElementById("username").value || "Anonymous";
        await addDoc(collection(db, "responses"), {
            name: name,
            option: choice,
            timestamp: new Date()
        });
    } catch (e) {
      console.error("Error adding document: ", e);
    }
  }

  // ‚úÖ Make function available to HTML buttons
  window.sendChoice = sendChoice;
</script>

</body>
</html>

